<!DOCTYPE html>
<html>
<head>
  <title>eatC - Login</title>
  <link rel="stylesheet" type="text/css" href="st.css">
</head>
<body>
  <script src="https://www.gstatic.com/firebasejs/8.6.5/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.6.5/firebase-auth.js"></script>
  <script>
    const firebaseConfig = {
          apiKey: "AIzaSyAhsLFXuGPA_uP42iTcUSR1x4sZyhWCbzU",
          authDomain: "eatc-fd3bd.firebaseapp.com",
          projectId: "eatc-fd3bd",
          storageBucket: "eatc-fd3bd.appspot.com",
          messagingSenderId: "1053136450043",
          appId: "1:1053136450043:web:751c9fcf12c9a408719b5e"
        };
        firebase.initializeApp(firebaseConfig);
  </script>
  <div class="login-box">
    <h1>eatC</h1>
    <form>
      <div class="textbox">
        <input type="text" placeholder="Email" name="email" required>
      </div>
      <div class="textbox">
        <input type="password" placeholder="Password" name="password" required>
      </div>
      <input class="btn0" type="submit" value="Sign in">
      <input class="btn1" type="submit" onclick="loginWithGoogle()" value="Sign in with google">
      <p class="signup-link">Don't have an account? <a href="../signup/signup.html">Sign up</a></p>
    </form>
  </div>
  <dialog id="main">
    <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Eatc user</title>
    <link rel="stylesheet" href="../nav.css">
    <link rel="stylesheet" href="../inspiration.css">
    <link rel="stylesheet" href="../order_data.css">
    <style>
        #popup{
            width: 500px;
            height: 500px;
            background: #fff;
            box-shadow: 5px 5px 5px #00000015;
            border: none;
            border-radius: 8px;
        }
        #popup::backdrop{
            backdrop-filter: blur(5px);
        }
    </style>
</head>
<body>
    
    <nav>  
        <a href="detail page">
            <img src="./image/logo.png" alt="Logo">
            <p class="eatcname">-Eatc user-</p>
        </a>
        <input  class="curve" type="search"  id="SearchTag" placeholder="Search your favourate food">
        <div class="curve">
            <a href=""><p><svg width="25" height="25" viewBox="0 0 36 36" xmlns="http://www.w3.org/2000/svg"><path d="M18 2a16 16 0 1 0 16 16A16 16 0 0 0 18 2Zm-.22 25.85a1.65 1.65 0 1 1 1.65-1.65 1.65 1.65 0 0 1-1.65 1.65Zm1.37-8.06v1.72a1.37 1.37 0 0 1-1.3 1.36h-.11a1.34 1.34 0 0 1-1.39-1.3v-2.76a1.19 1.19 0 0 1 1.12-1.31c1.57-.12 4.18-.7 4.18-3.25 0-1.83-1.41-3.07-3.43-3.07a5.31 5.31 0 0 0-4 1.92 1.36 1.36 0 0 1-2.35-.9 1.43 1.43 0 0 1 .43-1 7.77 7.77 0 0 1 6-2.69c3.7 0 6.28 2.3 6.28 5.6 0 3.05-1.97 5.09-5.43 5.68Z" class="clr-i-solid clr-i-solid-path-1"/><path fill="none" d="M0 0h36v36H0z"/></svg>Help</p></a>
            <a href=""><p><svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" viewBox="0 0 1800 1800" xml:space="preserve"><g fill="#333"><path d="M1799.344 899.996c0-88.462-95.547-165.006-276.3-221.355-16.881-5.265-34.349-10.276-52.301-15.054 9.318-16.072 18.118-31.96 26.339-47.619 87.966-167.659 101.403-289.341 38.854-351.9-25.566-25.557-61.558-38.52-106.981-38.52-75.811 0-177.951 37.532-292.485 103.924-4.795-18.03-9.827-35.569-15.106-52.516C1065.015 96.198 988.466.657 900.001.657c-88.462 0-165.011 95.541-221.36 276.299-5.283 16.946-10.315 34.485-15.11 52.516-114.534-66.392-216.675-103.924-292.49-103.924-45.424 0-81.41 12.958-106.972 38.52-62.554 62.554-49.121 184.241 38.85 351.9 8.216 15.659 17.021 31.547 26.334 47.619-17.951 4.778-35.416 9.789-52.296 15.054C96.204 734.99.658 811.534.658 899.996c0 88.469 95.546 165.01 276.299 221.366 16.88 5.262 34.345 10.268 52.296 15.055-9.313 16.071-18.118 31.959-26.334 47.618-87.971 167.659-101.404 289.342-38.85 351.892 25.562 25.565 61.552 38.528 106.972 38.528 75.815 0 177.957-37.536 292.49-103.924 4.799 18.022 9.827 35.561 15.11 52.512 56.349 180.753 132.893 276.3 221.36 276.3 88.464 0 165.013-95.547 221.362-276.3 5.279-16.951 10.312-34.481 15.106-52.512 114.534 66.388 216.666 103.915 292.485 103.915 45.424 0 81.415-12.963 106.973-38.52 62.558-62.55 49.12-184.232-38.846-351.892-8.221-15.659-17.021-31.547-26.339-47.618 17.952-4.787 35.42-9.793 52.301-15.055 180.754-56.355 276.301-132.896 276.301-221.365zm-318.15 168.18a1326.02 1326.02 0 0 1-44.659 12.076 1439.746 1439.746 0 0 1-27.736 6.718 1572.537 1572.537 0 0 1-37.589 8.212 1609.6 1609.6 0 0 1 20.719 32.303 1412.421 1412.421 0 0 1 14.912 24.45 1323.233 1323.233 0 0 1 22.949 39.935 1245.243 1245.243 0 0 1 11.549 21.411c70.717 134.796 89.442 238.764 50.078 278.128-13.322 13.331-34.34 20.085-62.462 20.085-60.529 0-143.164-29.456-237.269-81.607-13.052-7.229-26.313-14.896-39.769-22.976a1539.37 1539.37 0 0 1-24.415-14.991 1617.418 1617.418 0 0 1-32.302-20.806 1622.348 1622.348 0 0 1-8.23 37.685 1418.173 1418.173 0 0 1-6.666 27.499 1337.305 1337.305 0 0 1-12.128 44.896c-2.267 7.808-4.559 15.536-6.921 23.107-45.301 145.325-105.584 232.088-161.254 232.088-55.673 0-115.957-86.763-161.256-232.088-2.362-7.571-4.655-15.3-6.917-23.107a1332.56 1332.56 0 0 1-12.137-44.905 1476.973 1476.973 0 0 1-6.661-27.49 1617.212 1617.212 0 0 1-8.229-37.685 1654.65 1654.65 0 0 1-32.311 20.806 1518.277 1518.277 0 0 1-24.407 14.991 1320.901 1320.901 0 0 1-39.767 22.976c-94.105 52.151-176.745 81.617-237.274 81.617-28.118 0-49.13-6.764-62.453-20.087-39.368-39.363-20.648-143.34 50.078-278.136 3.715-7.086 7.593-14.236 11.549-21.411a1326.093 1326.093 0 0 1 22.94-39.935 1470.807 1470.807 0 0 1 14.912-24.45 1590.807 1590.807 0 0 1 20.723-32.303 1568.81 1568.81 0 0 1-37.59-8.212 1434.261 1434.261 0 0 1-27.735-6.718 1321.53 1321.53 0 0 1-44.659-12.076c-7.808-2.267-15.537-4.559-23.111-6.921C150.37 1015.954 63.611 955.671 63.611 899.996c0-55.673 86.758-115.952 232.084-161.257 7.575-2.362 15.304-4.655 23.111-6.916a1322.365 1322.365 0 0 1 44.659-12.076 1495.911 1495.911 0 0 1 27.735-6.719 1617.976 1617.976 0 0 1 37.585-8.212 1605.818 1605.818 0 0 1-20.719-32.297 1523.45 1523.45 0 0 1-14.917-24.451 1333.523 1333.523 0 0 1-22.94-39.935c-3.952-7.18-7.834-14.329-11.549-21.412-70.722-134.795-89.446-238.772-50.074-278.144 13.323-13.323 34.335-20.077 62.453-20.077 60.529 0 143.165 29.457 237.27 81.612 13.046 7.228 26.313 14.899 39.771 22.979a1468.667 1468.667 0 0 1 24.407 14.992 1632.279 1632.279 0 0 1 32.311 20.806 1633.48 1633.48 0 0 1 8.229-37.694 1476.391 1476.391 0 0 1 6.661-27.485 1324.833 1324.833 0 0 1 12.137-44.905c2.262-7.808 4.555-15.541 6.917-23.111C784.045 150.369 844.329 63.61 900.001 63.61c55.67 0 115.954 86.758 161.254 232.084 2.362 7.57 4.654 15.308 6.921 23.115 4.225 14.579 8.264 29.545 12.138 44.897a1487.201 1487.201 0 0 1 6.656 27.493 1627.466 1627.466 0 0 1 8.23 37.686 1639.933 1639.933 0 0 1 32.311-20.801 1479.547 1479.547 0 0 1 24.406-14.992 1323.976 1323.976 0 0 1 39.769-22.979c94.104-52.151 176.739-81.612 237.269-81.612 28.122 0 49.14 6.758 62.462 20.086 39.364 39.363 20.639 143.34-50.078 278.135a1291.503 1291.503 0 0 1-11.549 21.408 1325.482 1325.482 0 0 1-22.949 39.938 1443.536 1443.536 0 0 1-14.912 24.451 1589.546 1589.546 0 0 1-20.719 32.297 1617.867 1617.867 0 0 1 37.589 8.212 1493.598 1493.598 0 0 1 27.736 6.719 1332.545 1332.545 0 0 1 44.659 12.076c7.808 2.261 15.536 4.554 23.107 6.916 145.325 45.305 232.088 105.584 232.088 161.257 0 55.675-86.763 115.958-232.088 161.259-7.571 2.362-15.299 4.654-23.107 6.921z"/><path d="M704.532 852.061c82.828 0 150.217-67.388 150.217-150.217 0-82.828-67.389-150.217-150.221-150.217-82.828 0-150.217 67.384-150.217 150.212 0 82.833 67.389 150.222 150.221 150.222zm-.004-237.481c48.12 0 87.268 39.148 87.268 87.264s-39.148 87.264-87.264 87.264c-48.12 0-87.268-39.148-87.268-87.268 0-48.115 39.149-87.26 87.264-87.26zm397.444 334.478c-82.837 0-150.226 67.389-150.226 150.227 0 82.828 67.389 150.207 150.226 150.207 82.829 0 150.208-67.379 150.208-150.207 0-82.839-67.379-150.227-150.208-150.227zm0 237.48c-48.119 0-87.271-39.144-87.271-87.254 0-48.129 39.152-87.273 87.271-87.273 48.11 0 87.255 39.145 87.255 87.273 0 48.111-39.145 87.254-87.255 87.254zm96.476-625.181L564.051 1195.76c-12.291 12.295-12.291 32.223 0 44.519 6.147 6.138 14.206 9.212 22.26 9.212a31.416 31.416 0 0 0 22.259-9.212l634.397-634.402c12.287-12.295 12.287-32.224 0-44.52-12.295-12.286-32.223-12.286-44.519 0z"/></g></svg>Offers</p></a>
            <a  href="profile" style="display: flex;"><img id="dp" src="../image/Bacon Cheeseburger.jpg" width="25" height="25"><p id="username">user</p></a>
            <a href=""><p><svg width="25" height="25" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M.979.356.02.644 3.128 11H15V4.5A2.5 2.5 0 0 0 12.5 2H1.472L.979.356Z" fill="#000"/><path fill-rule="evenodd" clip-rule="evenodd" d="M5.5 12a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3ZM5 13.5a.5.5 0 1 1 1 0 .5.5 0 0 1-1 0Zm7.5-1.5a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3Zm-.5 1.5a.5.5 0 1 1 1 0 .5.5 0 0 1-1 0Z" fill="#000"/></svg>Cart</p></a>
        </div>
    </nav>

    <div class="inspiration">
        <h2>Inspiration</h2>
            <div>
                <a href=""><img src="./image/Bacon Cheeseburger.jpg" alt=""></a>
                <a href=""><img src="./image/Bacon Cheeseburger.jpg" alt=""></a>
                <a href=""><img src="./image/BBQ Burge.jpg" alt=""></a>
                <a href=""><img src="./image/Classic Cheeseburge.jpeg" alt=""></a>
                <a href=""><img src="./image/pop.jpg" alt=""></a>
                <a href=""><img src="./image/Margherita.webp" alt=""></a>
                <p><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 481.721 481.721" style="enable-background:new 0 0 481.721 481.721" xml:space="preserve"><path d="M399.494 209.312 146.627 10.473c-5.532-3.88-15.41-8.072-22.118-8.917C102.771-1.18 59.332-3.352 59.332 23v435.708c0 26.353 43.415 24.192 65.147 21.463 6.707-.845 16.573-5.036 22.111-8.917l252.903-198.856c30.528-17.419 30.528-45.663.001-63.086z"/></svg></p>
            </div>
    </div>
    
        
    </div>
    <dialog id="popup">
        <h1 id="popupname">name</h1>
        <button onclick="document.getElementById('popup').close()">Cancel</button>
    </dialog>

    <script defer>
        let user = firebase.auth().currentUser;
        firebase.auth().onAuthStateChanged((user)=>{
            const usernameElement = document.getElementById('username');
            usernameElement.innerHTML=user.displayName
            document.getElementById('dp').src=user.photoURL;
        })
// const displayName = user.displayName;

// Get the reference to the HTML element

// Update the content of the element with the user name
// usernameElement.innerHTML = displayName;
        function showPopup(name){
            document.getElementById('popup').showModal();
            document.getElementById('popupname').innerHTML=name
        }
    </script>
    
</body>
</html>
  </dialog>
  <script>
    var provider = new firebase.auth.GoogleAuthProvider();
    function loginWithGoogle() {
    firebase.auth().setPersistence(firebase.auth.Auth.Persistence.LOCAL)
      var provider = new firebase.auth.GoogleAuthProvider();
      firebase.auth().signInWithPopup(provider)
        .then((result) => {
          window.location.href = "../eatchome.html";
          // document.getElementById("main").showModal();
        })
        .catch((error) => {
          // Handle sign-in errors
          var errorCode = error.code;
          var errorMessage = error.message;
          console.error(errorCode, errorMessage);
        });
      }
    
  </script>
</body>
</html>